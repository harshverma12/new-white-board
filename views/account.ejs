<div id="info-container">
    <form id="personal-info-form" method="POST" action="/edit-account" onsubmit="saveDataLocally()">
        <fieldset>
            <legend>Personal Information</legend>
            <label>First Name</label>
            <input type="text" value="<%= user.firstName %>" placeholder="first name" autocomplete="off"
                name="first-name" id="first-name" />
            <br />
            <label>Last Name</label>
            <input type="text" value="<%= user.lastName %>" placeholder="last name" autocomplete="off" name="last-name"
                id="last-name" />
            <br />
            <label>Username</label>
            <input type="text" value="<%= user.username %>" disabled id="username" />
        </fieldset>
        <br />
        <fieldset id="app-info-fieldset">
            <legend>App Information</legend>
            <label>Rooms Joined</label>
            <input type="number" value="<%= user.roomsJoined.length %>" disabled />
            <br />
            <label>Messages Sent</label>
            <input type="number" value="<%= user.messagesSent %>" disabled />
            <br />
            <label>Username Color</label>
            <input type="color" value="<%= user.usernameColor %>" name="username-color" id="username-color"
                list="available-colors" onchange="setUsernameColor(this.value)">
            <datalist id="available-colors">
                <option>#003264</option>
                <option>#ff0000</option>
                <option>#00cf00</option>
                <option>#ff00ff</option>
                <option>#ff8844</option>

                <option>#8100e3</option>
                <option>#008394</option>
                <option>#940040</option>
                <option>#c9a100</option>
                <option>#0026ff</option>
            </datalist>
        </fieldset>
        <br />
        <div class="form-buttons">
            <input type="submit" value="Update" id="edit-personal-info-button" />
        </div>
    </form>
</div>
<div id="my-rooms-container">
    <h3>My Rooms</h3>
    <div id="my-rooms-table-container">
        <table class="styled-table" id="my-rooms">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Created</th>
                    <th>Members</th>
                    <th class="buttons-th"></th>
                    <th class="buttons-th"></th>
                </tr>
            </thead>
            <tbody id="my-rooms-body">
                <% for(let i=0; i < userRooms.length; ++i) { %>
                    <tr id="<%= userRooms[i].name %>">
                        <td>
                            <%= userRooms[i].name %>
                        </td>
                        <td>
                            <%= userRooms[i].creationDate %>
                        </td>
                        <td>
                            <%= userRooms[i].members.length  %>/<%= userRooms[i].maxMembers %>
                        </td>
                        <td><input class='join-room-button' type='button'
                                onclick="joinRoom('<%= utility.sanitizeInput(userRooms[i].name) %>')" value='Join' />
                        </td>
                        <td><input class='delete-room-button' type='button'
                                onclick="deleteRoom('<%= utility.sanitizeInput(userRooms[i].name) %>')"
                                value='Delete' /></td>
                    </tr>
                    <% } %>
            </tbody>
        </table>
    </div>
</div>
<script src="js/account.js" type="text/javascript"></script>
<script src="js/room.js" type="text/javascript"></script>